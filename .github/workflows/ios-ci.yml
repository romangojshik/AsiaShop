name: iOS CI

   on:
     push:
       branches: [ main ]
     pull_request:

   jobs:
     build-and-test:
       runs-on: macos-latest

       steps:
         - name: Checkout
           uses: actions/checkout@v4

         - name: Select Xcode
           run: sudo xcode-select -s /Applications/Xcode.app/Contents/Developer

         - name: Build and test
           run: |
             xcodebuild \
               -project AsiaShop.xcodeproj \
               -scheme AsiaShop \
               -sdk iphonesimulator \
               -destination 'platform=iOS Simulator,name=iPhone 15' \
               clean test
